@model Monster_University_GR2.CapaEntidad.UsuarioSesion
@{
    ViewBag.Title = "Inicio";
    Layout = "~/Views/Shared/_Layout.cshtml";

    // Lógica visual para la foto según el rol
    string fotoUrl = "https://tse2.mm.bing.net/th/id/OIP.iVuW_1Exd2LN6QVrwCst9wHaJl?cb=ucfimg2&ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3"; // Default (Genérico)
    string colorCarnet = "linear-gradient(135deg, #0056b3 0%, #00a8e8 100%)"; // Azul Default

    if (Model.RolCodigo == "EST")
    {
        fotoUrl = "https://th.bing.com/th/id/R.948befe35a671d585323c2694ea8739d?rik=gMvQ0N49NnBuIw&riu=http%3a%2f%2fwww.hdwallpapers.in%2fwalls%2fmonsters_university_2013-wide.jpg&ehk=kj3kpDQLftueE6%2f4%2fzEIHrOE91A2U4ytPw3pTTOTrEY%3d&risl=1&pid=ImgRaw&r=0";
        colorCarnet = "linear-gradient(135deg, #28a745 0%, #85d997 100%)"; // Verde para Estudiantes
    }
    if (Model.RolCodigo == "DOC")
    {
        fotoUrl = "https://tse2.mm.bing.net/th/id/OIP.qRTxuiHXGVZJYxqooHR9VgHaJl?cb=ucfimg2&ucfimg=1&w=2550&h=3300&rs=1&pid=ImgDetMain&o=7&rm=3";
        colorCarnet = "linear-gradient(135deg, #dc3545 0%, #ff8593 100%)"; // Rojo para Docentes
    }
    if (Model.RolCodigo == "ADM")
    {
        fotoUrl = "https://tse1.mm.bing.net/th/id/OIP.JjdEQRXpaYqepAP3whbDWwHaJl?cb=ucfimg2&ucfimg=1&w=768&h=994&rs=1&pid=ImgDetMain&o=7&rm=3";
        colorCarnet = "linear-gradient(135deg, #ffc107 0%, #ffdb73 100%)"; // Amarillo para Admin
    }
}

<div class="container mt-5">
    <div class="row justify-content-center align-items-center">

        <div class="col-md-5 col-lg-4 mb-4">
            <div class="mu-id-card shadow-lg" style="background: @colorCarnet; border-radius: 15px; overflow: hidden; border: 2px solid #fff;">
                <div class="bg-dark text-white text-center py-2 fw-bold" style="letter-spacing: 2px; border-bottom: 2px solid #ffd700;">
                    <img src="~/images/monster_logo.jpg" alt="Monster U."
                         style="width:40px; height:auto; vertical-align:middle;"> MONSTER U.
                </div>

                <div class="text-center mt-4">
                    <div style="background: white; padding: 5px; border-radius: 50%; width: 130px; height: 130px; margin: 0 auto; border: 4px solid #ffd700;">
                        <img src="@fotoUrl" alt="Foto Perfil" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                </div>

                <div class="text-center p-4 text-white">
                    <h3 class="mb-0 fw-bold text-uppercase text-shadow">@Model.Nombre</h3>
                    <h4 class="mb-2 fw-light">@Model.Apellido</h4>

                    <span class="badge bg-light text-dark fs-6 shadow-sm mt-2">
                        @Model.RolCodigo
                    </span>

                    <div class="mt-4 small opacity-75">
                        ID: @Model.RolCodigo-2025-@Model.Nombre.Substring(0, 1)@Model.Apellido.Substring(0, 1)
                    </div>
                </div>

                <div class="bg-white text-dark text-center py-1 font-monospace" style="letter-spacing: 5px; font-size: 0.8rem;">
                    |||| || ||| || ||||| |||
                </div>
            </div>
        </div>

        <div class="col-md-7 col-lg-8">
            <div class="p-5 text-dark" style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                <h1 class="display-5 fw-bold mb-3">¡Bienvenido, @Model.Nombre!</h1>
                <p class="lead mb-4">Sistema de Gestión Académica Integrado (VISS).</p>
                <hr class="my-4">

                <div class="row g-3">
                    @if (Model.RolCodigo == "ADM")
                    {
                        <div class="col-sm-6">
                            <a href="@Url.Action("Index", "Usuarios")" class="btn btn-outline-primary w-100 p-3 text-start">
                                <i class="fas fa-users fa-2x mb-2"></i><br>Gestión Usuarios
                            </a>
                        </div>
                        <div class="col-sm-6">
                            <a href="@Url.Action("AsignarRol", "Seguridad")" class="btn btn-outline-success w-100 p-3 text-start">
                                <i class="fas fa-id-badge fa-2x mb-2"></i><br>Asignar Roles
                            </a>
                        </div>
                    }
                    else if (Model.RolCodigo == "EST")
                    {
                        <div class="col-sm-6">
                            <button disabled class="btn btn-outline-secondary w-100 p-3 text-start">
                                <i class="fas fa-book-open fa-2x mb-2"></i><br>Ver Materias (Próximamente)
                            </button>
                        </div>
                    }

                    <div class="col-sm-6">
                        <a href="@Url.Action("CambiarClave", "Access")" class="btn btn-outline-secondary w-100 p-3 text-start">
                            <i class="fas fa-key fa-2x mb-2"></i><br>Seguridad
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>